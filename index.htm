<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 75.1pt 1.0in 75.05pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal>&lt;!DOCTYPE html&gt;<br>
&lt;html lang=&quot;en&quot;&gt;<br>
&lt;head&gt;<br>
  &lt;meta charset=&quot;UTF-8&quot;&gt;<br>
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
initial-scale=1.0&quot;&gt;<br>
  &lt;title&gt;Text Submission with Google Login&lt;/title&gt;<br>
  &lt;style&gt;<br>
    body {<br>
      font-family: Arial, sans-serif;<br>
      margin: 20px;<br>
    }<br>
    table {<br>
      width: 100%;<br>
      border-collapse: collapse;<br>
      margin-top: 20px;<br>
    }<br>
    th, td {<br>
      border: 1px solid #ddd;<br>
      padding: 8px;<br>
      text-align: left;<br>
    }<br>
    th {<br>
      background-color: #f2f2f2;<br>
    }<br>
    .highlight {<br>
      background-color: red;<br>
      color: white;<br>
    }<br>
  &lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
  &lt;h1&gt;Text Submission&lt;/h1&gt;<br>
  &lt;div id=&quot;login-section&quot;&gt;<br>
    &lt;button id=&quot;google-login&quot;&gt;Login using Google&lt;/button&gt;<br>
  &lt;/div&gt;<br>
  &lt;div id=&quot;submission-section&quot; style=&quot;display: none;&quot;&gt;<br>
    &lt;input type=&quot;text&quot; id=&quot;input-text&quot; placeholder=&quot;Enter
text or JWT token&quot;&gt;<br>
    &lt;button id=&quot;submit-button&quot;&gt;Submit&lt;/button&gt;<br>
  &lt;/div&gt;<br>
  &lt;table id=&quot;submission-table&quot;&gt;<br>
    &lt;thead&gt;<br>
      &lt;tr&gt;<br>
        &lt;th&gt;Text&lt;/th&gt;<br>
        &lt;th&gt;Date &amp; Time&lt;/th&gt;<br>
      &lt;/tr&gt;<br>
    &lt;/thead&gt;<br>
    &lt;tbody&gt;<br>
      &lt;!-- Rows will be added dynamically --&gt;<br>
    &lt;/tbody&gt;<br>
  &lt;/table&gt;</p>

<p class=MsoNormal>&lt;!-- Firebase and JWT libraries --&gt;<br>
  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js&quot;&gt;&lt;/script&gt;<br>
  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js&quot;&gt;&lt;/script&gt;<br>
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jose@4.8.1/dist/browser/index.js&quot;&gt;&lt;/script&gt;</p>

<p class=MsoNormal>&lt;script&gt;<br>
    // Firebase configuration<br>
    const firebaseConfig = {<br>
      apiKey: &quot;AIzaSyDutDyTo8sbmI8ftpIp3K5DtkgmV5uJYPw&quot;,<br>
      authDomain: &quot;grcs-69b66.firebaseapp.com&quot;,<br>
      projectId: &quot;grcs-69b66&quot;,<br>
      appId: &quot;1:621698190294:web:a4e08432305b59ae75b277&quot;,<br>
    };</p>

<p class=MsoNormal>// Initialize Firebase<br>
    const app = firebase.initializeApp(firebaseConfig);<br>
    const auth = firebase.auth();</p>

<p class=MsoNormal>// Google Login<br>
   
document.getElementById(&quot;google-login&quot;).addEventListener(&quot;click&quot;,
() =&gt; {<br>
      const provider = new firebase.auth.GoogleAuthProvider();<br>
      auth.signInWithPopup(provider).then((result) =&gt; {<br>
        document.getElementById(&quot;login-section&quot;).style.display =
&quot;none&quot;;<br>
        document.getElementById(&quot;submission-section&quot;).style.display =
&quot;block&quot;;<br>
      }).catch((error) =&gt; {<br>
        console.error(&quot;Google login failed:&quot;, error);<br>
      });<br>
    });</p>

<p class=MsoNormal>// Submit text<br>
   
document.getElementById(&quot;submit-button&quot;).addEventListener(&quot;click&quot;,
async () =&gt; {<br>
      const inputText =
document.getElementById(&quot;input-text&quot;).value.trim();<br>
      if (!inputText) return;</p>

<p class=MsoNormal>const dateTime = new Date().toLocaleString();<br>
      const isJWT = await verifyJWT(inputText);</p>

<p class=MsoNormal>const tableBody =
document.querySelector(&quot;#submission-table tbody&quot;);<br>
      const newRow = document.createElement(&quot;tr&quot;);<br>
      if (isJWT) newRow.classList.add(&quot;highlight&quot;);</p>

<p class=MsoNormal>newRow.innerHTML = `<br>
        &lt;td&gt;${inputText}&lt;/td&gt;<br>
        &lt;td&gt;${dateTime}&lt;/td&gt;<br>
      `;<br>
      tableBody.appendChild(newRow);</p>

<p class=MsoNormal>document.getElementById(&quot;input-text&quot;).value =
&quot;&quot;; // Clear input<br>
    });</p>

<p class=MsoNormal>// Verify JWT<br>
    async function verifyJWT(token) {<br>
      const publicKey = `-----BEGIN PUBLIC KEY-----<br>
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEMU1JFVEO9FkVr0r041GpAWzKvQi1TBYm<br>
arJj3+aNeC2aK9GT7Hct1OJGWQGbUkNWTeUr+Ui09PjBit+AMYuHgA==<br>
-----END PUBLIC KEY-----`;</p>

<p class=MsoNormal>try {<br>
        const decoded = await window.jose.JWTVerify(token, publicKey, {<br>
          algorithms: [&quot;ES256&quot;],<br>
        });<br>
        return true; // JWT is valid<br>
      } catch (error) {<br>
        console.error(&quot;JWT verification failed:&quot;, error);<br>
        return false; // JWT is invalid<br>
      }<br>
    }<br>
  &lt;/script&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
